;/*FB_PKG_DELIM*/

__d("PolarisPostMobileComment_comment.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a={alias:null,args:null,kind:"ScalarField",name:"pk",storageKey:null};return{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"PolarisPostMobileComment_comment",selections:[{alias:null,args:null,kind:"ScalarField",name:"created_at",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"has_liked_comment",storageKey:null},{kind:"RequiredField",field:a,action:"THROW",path:"pk"},{alias:null,args:null,kind:"ScalarField",name:"parent_comment_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"has_translation",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"restricted_status",storageKey:null},{kind:"RequiredField",field:{alias:null,args:null,concreteType:"XDTUserDict",kind:"LinkedField",name:"user",plural:!1,selections:[{kind:"RequiredField",field:a,action:"THROW",path:"user.pk"},{kind:"RequiredField",field:{alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null},action:"THROW",path:"user.username"},{args:null,kind:"FragmentSpread",name:"PolarisPostCommentAvatar_user"}],storageKey:null},action:"THROW",path:"user"},{args:null,kind:"FragmentSpread",name:"PolarisCommentLikeButton_comment"},{args:null,kind:"FragmentSpread",name:"PolarisCommentReplyButton_comment"},{args:null,kind:"FragmentSpread",name:"PolarisPostChildComments_comment"},{args:null,kind:"FragmentSpread",name:"PolarisPostCommentContent_comment"},{args:null,kind:"FragmentSpread",name:"PolarisCommentLikeCount_comment"},{args:null,kind:"FragmentSpread",name:"usePolarisCommentLike_comment"},{args:null,kind:"FragmentSpread",name:"usePolarisCommentUnlike_comment"},{args:null,kind:"FragmentSpread",name:"usePolarisPostCommentState_comment"},{args:null,kind:"FragmentSpread",name:"PolarisPostCommentViewpoint_comment"},{args:null,kind:"FragmentSpread",name:"useShowCommentOptionsModal_comment"}],type:"XDTCommentDict",abstractKey:null}}();e.exports=a}),null);
__d("PolarisCommentLikeCount_comment.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"PolarisCommentLikeCount_comment",selections:[{kind:"RequiredField",field:{alias:null,args:null,kind:"ScalarField",name:"pk",storageKey:null},action:"THROW",path:"pk"},{alias:null,args:null,kind:"ScalarField",name:"comment_like_count",storageKey:null}],type:"XDTCommentDict",abstractKey:null};e.exports=a}),null);
__d("PolarisPostCommentsContainerPlaceholder.react",["IGDSBox.react","PolarisPanavisionQEHelpers","PolarisPostCommentPlaceholder.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||(h=d("react"))).unstable_useMemoCache,j=h;function a(a){var b=i(15),e=a.indexOffset,f=a.marginTop;a=a.xStyle;e=e===void 0?0:e;f=f===void 0?6:f;var g=e+0,h;b[0]!==g||b[1]!==f?(h=j.jsx(c("PolarisPostCommentPlaceholder.react"),{index:g,marginTop:f}),b[0]=g,b[1]=f,b[2]=h):h=b[2];g=e+1;b[3]!==g?(f=j.jsx(c("PolarisPostCommentPlaceholder.react"),{index:g}),b[3]=g,b[4]=f):f=b[4];g=e+2;var k;b[5]!==g?(k=j.jsx(c("PolarisPostCommentPlaceholder.react"),{index:g}),b[5]=g,b[6]=k):k=b[6];b[7]!==e?(g=d("PolarisPanavisionQEHelpers").hasPolarisFeedRevamp()&&j.jsxs(j.Fragment,{children:[j.jsx(c("PolarisPostCommentPlaceholder.react"),{index:e+3}),j.jsx(c("PolarisPostCommentPlaceholder.react"),{index:e+4}),j.jsx(c("PolarisPostCommentPlaceholder.react"),{index:e+5}),j.jsx(c("PolarisPostCommentPlaceholder.react"),{index:e+6}),j.jsx(c("PolarisPostCommentPlaceholder.react"),{index:e+7})]}),b[7]=e,b[8]=g):g=b[8];b[9]!==a||b[10]!==h||b[11]!==f||b[12]!==k||b[13]!==g?(e=j.jsxs(c("IGDSBox.react"),{marginStart:2,xstyle:a,children:[h,f,k,g]}),b[9]=a,b[10]=h,b[11]=f,b[12]=k,b[13]=g,b[14]=e):e=b[14];return e}g["default"]=a}),98);
__d("PolarisCommentLikeCount.react",["CometRelay","IGDSBox.react","IGDSText.react","PolarisCommentLikeCount_comment.graphql","PolarisFastLink.react","react","usePolarisCommentLikeCountString"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=(i||(i=d("react"))).unstable_useMemoCache,k=i;function a(a){var e=j(5),f=a.mediaId;a=a.queryRefrence;a=d("CometRelay").useFragment(h!==void 0?h:h=b("PolarisCommentLikeCount_comment.graphql"),a);var g=c("usePolarisCommentLikeCountString")(a.comment_like_count);if(g==null)return null;f="/p/"+f+"/c/"+a.pk+"/liked_by/";e[0]!==g?(a=k.jsx(c("IGDSText.react").Body2Emphasized,{color:"secondaryText",children:g}),e[0]=g,e[1]=a):a=e[1];e[2]!==f||e[3]!==a?(g=k.jsx(c("IGDSBox.react"),{marginStart:4,children:k.jsx(c("PolarisFastLink.react"),{href:f,children:a})}),e[2]=f,e[3]=a,e[4]=g):g=e[4];return g}g["default"]=a}),98);
__d("PolarisLongPress.react",["cx","Keys","PolarisDOMListener.react","PolarisUA","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||(i=d("react"));b=i;b.useCallback;var k=b.useEffect,l=b.useRef,m=b.unstable_useMemoCache,n=750;function a(a){var b=m(24),e=a.children,f=a.onLongPress,g=l();b[0]!==f?(a=function(){g.current=window.setTimeout(f,n)},b[0]=f,b[1]=a):a=b[1];var h=a;b[2]===Symbol["for"]("react.memo_cache_sentinel")?(a=function(){window.clearTimeout(g.current)},b[2]=a):a=b[2];var i=a;b[3]!==h?(a=function(a){(a.keyCode===c("Keys").SPACE||a.keyCode===c("Keys").RETURN)&&h()},b[3]=h,b[4]=a):a=b[4];a=a;var o;b[5]!==i?(o=function(a){(a.keyCode===c("Keys").SPACE||a.keyCode===c("Keys").RETURN)&&i()},b[5]=i,b[6]=o):o=b[6];o=o;var p;b[7]===Symbol["for"]("react.memo_cache_sentinel")?(p=function(a){a.preventDefault();a.stopPropagation();return!1},b[7]=p):p=b[7];p=p;var q,r;b[8]!==i?(q=function(){return function(){i()}},r=[i],b[8]=i,b[9]=q,b[10]=r):(q=b[9],r=b[10]);k(q,r);b[11]===Symbol["for"]("react.memo_cache_sentinel")?(q="_ac6x"+(d("PolarisUA").isTouchDevice()?" _ac6y":""),b[11]=q):q=b[11];b[12]!==i?(r=j.jsx(c("PolarisDOMListener.react"),{event:"onscroll",handler:i,target:window}),b[12]=i,b[13]=r):r=b[13];var s;b[14]!==i?(s=j.jsx(c("PolarisDOMListener.react"),{event:"touchmove",handler:i,target:window}),b[14]=i,b[15]=s):s=b[15];b[16]!==a||b[17]!==o||b[18]!==i||b[19]!==h||b[20]!==r||b[21]!==s||b[22]!==e?(q=j.jsxs("div",{className:q,onContextMenu:p,onKeyDown:a,onKeyUp:o,onScroll:i,onTouchEnd:i,onTouchStart:h,role:"button",tabIndex:"0",children:[r,s,e]}),b[16]=a,b[17]=o,b[18]=i,b[19]=h,b[20]=r,b[21]=s,b[22]=e,b[23]=q):q=b[23];return q}g["default"]=a}),98);
__d("PolarisPostMobileComment.next.react",["CometRelay","IGDSBox.react","IGDSDialogPlaceholder.react","IGDSText.react","JSResourceForInteraction","PolarisApproveCommentDialog.react","PolarisCommentActionButton.react","PolarisCommentLikeButton.next.react","PolarisCommentLikeCount.react","PolarisCommentReplyButton.react","PolarisCommentTranslationPrompt.next.react","PolarisDoubleTappable","PolarisLongPress.react","PolarisPostChildComments.next.react","PolarisPostCommentAvatar.react","PolarisPostCommentContent.next.react","PolarisPostCommentViewpoint.react","PolarisPostDetailsSectionProvider.react","PolarisPostMobileComment_comment.graphql","PolarisPostStrings","PolarisTimestamp.react","react","useIGDSLazyDialog","usePolarisApproveRestrictedComment","usePolarisCommentLike","usePolarisCommentUnlike","usePolarisPostCommentState","usePolarisPostDeleteComment","useShowCommentOptionsModal"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||(i=d("react"));e=i;var k=e.useCallback,l=e.useState,m={childCommentsContainer:{marginStart:"x540dpk",marginLeft:null,marginRight:null,$$css:!0},likeButton:{paddingBottom:"xwib8y2",$$css:!0}},n=c("JSResourceForInteraction")("PolarisApproveCommentDialog.next.react").__setRef("PolarisPostMobileComment.next.react"),o=c("JSResourceForInteraction")("PolarisDeleteCommentModal.next.react").__setRef("PolarisPostMobileComment.next.react");function a(a){var e=a.mediaCode,f=a.mediaId,g=a.mediaOwnerId;a=a.queryReference;var i=d("CometRelay").useFragment(h!==void 0?h:h=b("PolarisPostMobileComment_comment.graphql"),a),p=c("usePolarisCommentLike")(i),q=c("usePolarisCommentUnlike")(i),r=d("PolarisPostDetailsSectionProvider.react").usePolarisPostDetailsSectionProvider(),s=i.restricted_status===1;a=l(!1);var t=a[0],u=a[1],v=s&&!t,w=s&&t,x=c("usePolarisPostDeleteComment")(i.pk,f,i.parent_comment_id);a=c("useIGDSLazyDialog")(o,function(a){return j.jsx(c("IGDSDialogPlaceholder.react"),{onClose:a,size:"default"})});var y=a[0];a[1];a=c("useIGDSLazyDialog")(n,function(a){return j.jsx(c("IGDSDialogPlaceholder.react"),{onClose:a,size:"default"})});var z=a[0];a[1];var A=k(function(){y({analyticsContext:r,onDelete:x})},[y,r,x]),B=c("usePolarisApproveRestrictedComment")(i.pk),C=i.parent_comment_id!=null?i.parent_comment_id:i.pk,D=k(function(){var a;a=(a=i.user)==null?void 0:a.username;a!=null&&z({commentId:i.pk,commentOwnerId:i.user.pk,commentOwnerUsername:a,commentThreadId:C,mediaId:f,onApproveComment:B})},[z,i.pk,i.user.pk,f,i.user.username,C,B]),E=i.created_at;a=c("usePolarisPostCommentState")(i);var F=a.isParentComment,G=a.setShowReplies,H=a.setShowTranslatedText,I=a.setTranslatedText,J=a.showReplies,K=a.showTranslatedText,L=a.translatedText,M=function(){i.has_liked_comment===!0?q():p()},N=c("useShowCommentOptionsModal")({mediaId:f,mediaOwnerId:g,queryReference:i});return j.jsx(c("PolarisPostCommentViewpoint.react"),{mediaId:f,mediaOwnerId:g,queryReference:i,children:function(a){return j.jsx(c("PolarisLongPress.react"),{onLongPress:function(){N()},children:j.jsxs("div",{className:"xurb0ha",ref:a,children:[j.jsxs(c("IGDSBox.react"),{direction:"row",display:"flex",paddingY:3,children:[j.jsx("div",{className:"x1emribx",children:j.jsx(c("PolarisPostCommentAvatar.react"),{restrictedStatus:(a=i.restricted_status)!=null?a:0,user:i.user})}),j.jsx(c("IGDSBox.react"),{direction:"row",display:"flex",flex:"grow",children:j.jsxs(c("IGDSBox.react"),{direction:"column",display:"flex",flex:"grow",children:[j.jsx(d("PolarisDoubleTappable").DoubleTappable,{onDoubleClick:M,role:"button",children:j.jsx(c("PolarisPostCommentContent.next.react"),{comment:i,isInlineComment:!0,mediaCode:e,showRestrictedContent:t,showTranslatedText:K,showVerifiedBadge:!0,translatedText:L})}),j.jsxs(c("IGDSBox.react"),{alignItems:"center",direction:"row",display:"flex",height:16,marginTop:1,children:[j.jsx(c("IGDSText.react").Body2,{color:"secondaryText",children:j.jsx(c("PolarisTimestamp.react"),{value:Number(E)})}),j.jsxs(j.Fragment,{children:[j.jsx(c("PolarisCommentLikeCount.react"),{mediaId:f,queryRefrence:i}),!s&&j.jsx(d("PolarisCommentReplyButton.react").PolarisCommentReplyButton,{commentFragment:i,mediaId:f})]}),j.jsx(c("PolarisCommentTranslationPrompt.next.react"),{hasTranslation:i.has_translation,id:i.pk,isCaption:!1,setShowTranslatedText:H,setTranslatedText:I,showTranslatedText:K,translatedTextExists:L!=null}),v&&j.jsx(c("PolarisCommentActionButton.react"),{label:d("PolarisPostStrings").RESTRICT_SEE_COMMENT_TEXT,onClick:function(){return u(!0)}}),w&&j.jsx(c("PolarisCommentActionButton.react"),{label:d("PolarisApproveCommentDialog.react").APPROVE_COMMENT_CTA,onClick:D}),s&&j.jsx(c("PolarisCommentActionButton.react"),{label:d("PolarisPostStrings").RESTRICT_DELETE_COMMENT_TEXT,onClick:A})]})]})}),j.jsx(c("IGDSBox.react"),{alignItems:"center",direction:"column",display:"flex",justifyContent:"center",paddingX:4,children:j.jsx(c("PolarisCommentLikeButton.next.react"),{color:"ig-secondary-icon",isLarge:!1,queryReference:i,size:12,xstyle:m.likeButton})})]}),F?j.jsx(c("IGDSBox.react"),{xstyle:m.childCommentsContainer,children:j.jsx(c("PolarisPostChildComments.next.react"),{mediaCode:e,mediaId:f,mediaOwnerId:g,parentCommentQueryRef:i,setShowReplies:G,showReplies:J})}):null]})})}})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);